generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Transcript {
  id          String       @id @default(cuid())
  text        String
  createdAt   DateTime     @default(now())
  actionItems ActionItem[]

  @@index([createdAt(sort: Desc)])
}

model ActionItem {
  id           String      @id @default(cuid())
  transcriptId String?
  transcript   Transcript? @relation(fields: [transcriptId], references: [id], onDelete: Cascade)
  task         String
  owner        String?
  dueDate      DateTime?
  done         Boolean     @default(false)
  tags         String[]    @default([])
  createdAt    DateTime    @default(now())

  @@index([transcriptId])
  @@index([done])
}
